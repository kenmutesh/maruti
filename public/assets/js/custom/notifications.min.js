async function readNotifications(){const response=await fetch("/clearNotification"),json=await response.json();document.querySelector("#notificationBubble").classList.remove("badgebit")}function decodeHtml(html){var txt=document.createElement("textarea");return txt.innerHTML=html,txt.value}window.addEventListener("load",()=>{setInterval((async function(){const response=await fetch("/checkNotification"),json=await response.json(),notificationDropdown=document.querySelector("#notificationDropdown");let newHTML="",unreadPresent=!1;var audio;json.length>0?(json.forEach(notification=>{notification.read_status?newHTML+=`<li class="dropdown-item text-center align-items-center p-1 m-1 border"> <p>${decodeHtml(notification.message)}</p></li>`:(newHTML+=`<li class="dropdown-item text-center align-items-center p-1 m-1 border"> <p>${decodeHtml(notification.message)}</p> (NEW)</li>`,unreadPresent=!0)}),unreadPresent?(document.querySelector("#notificationBubble .notify").classList.remove("invisible"),new Audio("/assets/sound/notify.wav").play()):document.querySelector("#notificationBubble").classList.remove("invisible")):newHTML='<li class="dropdown-item text-center d-flex align-items-center p-1 m-1">No unread notifications</li>';notificationDropdown.innerHTML=newHTML}),1e4)});
//# sourceMappingURL=notifications.min.js.map